const _0xa70925=_0x4d5d;(function(_0x5619e3,_0x42fae3){const _0x4ba820=_0x4d5d,_0x1dcd5b=_0x5619e3();while(!![]){try{const _0xb36c6a=parseInt(_0x4ba820(0x10a))/0x1+parseInt(_0x4ba820(0xff))/0x2+parseInt(_0x4ba820(0xf6))/0x3+-parseInt(_0x4ba820(0xf9))/0x4*(parseInt(_0x4ba820(0x74))/0x5)+parseInt(_0x4ba820(0xa6))/0x6*(parseInt(_0x4ba820(0x9a))/0x7)+-parseInt(_0x4ba820(0x10c))/0x8+-parseInt(_0x4ba820(0xba))/0x9*(parseInt(_0x4ba820(0xec))/0xa);if(_0xb36c6a===_0x42fae3)break;else _0x1dcd5b['push'](_0x1dcd5b['shift']());}catch(_0x2e7985){_0x1dcd5b['push'](_0x1dcd5b['shift']());}}}(_0x56da,0xc376e));const {jidDecode,downloadContentFromMessage,getContentType,generateForwardMessageContent,generateLinkPreviewIfRequired,generateWAMessageFromContent}=require(_0xa70925(0x112));fs=require('fs'),cmd={0x1:[_0xa70925(0xe2),_0xa70925(0x106),_0xa70925(0x9f),_0xa70925(0xcd),_0xa70925(0x10b)],0x2:[_0xa70925(0xe2),_0xa70925(0x106),'libwebp']};function _0x4d5d(_0x562f1f,_0x491d12){const _0x56daad=_0x56da();return _0x4d5d=function(_0x4d5d72,_0x5a6277){_0x4d5d72=_0x4d5d72-0x72;let _0x342bf9=_0x56daad[_0x4d5d72];return _0x342bf9;},_0x4d5d(_0x562f1f,_0x491d12);}const fetch=require(_0xa70925(0xad)),{store,tiny,parseJid,getRandom,isNumber,decodeJid}=require('.'),{toPTT,toAudio}=require('./lib/ptt'),PhoneNumber=require(_0xa70925(0x11a)),{connected}=require(_0xa70925(0xc2)),{fromBuffer}=require(_0xa70925(0x82));function _0x56da(){const _0x320d66=['selectedButtonId','stanzaId','reply','fileLength','path','promises','title','viewOnce','singleSelectReply','ephemeral','-vf','isForwarded','buttonsResponseMessage','sendFromUrl','getNumber','test','forwardingScore','@s.whatsapp.net','packname','withTag','remoteJid','footer','existsSync','hydratedTemplate','../config','quotedMessage','headerType','body','mediaType','getFile','name','-fs\x201M','notify','relayMessage','concat','WhatsApp','asDocument','decodeJid','categories','unlinkSync','endsWith','885970PIqQig','object','ext','text','user','forwardType','audio','loadMessage','selectedId','../temp/','254262IoOjKQ','sendFile','replace','139092goeqXg','parse','conversation','image','download','delete','465250LpyFGg','ignore','externalAdReply','participant','jpegThumbnail','image/webp','map','-vcodec','senderName','readFileSync','Message','1143404mJbrbq','scale=512:512:flags=lanczos:force_original_aspect_ratio=decrease,format=rgba,pad=512:512:(ow-iw)/2:(oh-ih)/2:color=#00000000,setsar=1','8713272FyGlwd','into','from','status','selectedRowId','asSticker','@adiwajshing/baileys','message','string','key','conn','util','ephemeralMessage','length','awesome-phonenumber','international','listResponseMessage','sendMessage','20AFyiQP','buttons','unlink','logger','verifiedName','showAdAttribution','subject','emdinetWork','mentions','emdinet','base64','getQuotedMessage','sender','sendVideoAsSticker','file-type','keys','viewOnceMessage','split','Result\x20is\x20not\x20a\x20buffer','getName','templateButtonReplyMessage','isSelf','thumbnail','../','./sticker','document','quoted','caption','.bin','json','now','readViewOnce','exports','fromMe','mtype','mime','@g.us','view_once','1415505DFWaUK','then','writeFile','server','contextInfo','libwebp','application/octet-stream','isGroup','contacts','isBuffer','send','hydratedContentText','30CEcQDt','matchAll','buffer','ptt','description','fromBuffer','data','node-fetch','mediaUrl','buttonsMessage','0@s.whatsapp.net','video','waveform','sticker','audio/mpeg','templateMessage','mimetype','log','writeFileSync','hydratedFourRowTemplate','45SQNJlO','author','type','toString','format','join','seconds','\x20emdinet','process'];_0x56da=function(){return _0x320d66;};return _0x56da();}let path=require(_0xa70925(0xc7));const {writeExifImg,writeExifVid,imageToWebp,videoToWebp}=require(_0xa70925(0x8c)),config=require(_0xa70925(0xdb)),downloadMedia=(_0x2e39bf,_0x2df825)=>new Promise(async(_0x36f67d,_0x12f8da)=>{const _0x14faa3=_0xa70925;let _0x546499=Object['keys'](_0x2e39bf)[0x0],_0x18ab8b={'imageMessage':'image','videoMessage':_0x14faa3(0xb1),'stickerMessage':_0x14faa3(0xb3),'documentMessage':_0x14faa3(0x8d),'audioMessage':_0x14faa3(0xf2)},_0x1c8a97=_0x2e39bf;_0x546499==_0x14faa3(0xb5)&&(_0x1c8a97=_0x2e39bf[_0x14faa3(0xb5)][_0x14faa3(0xb9)],_0x546499=Object['keys'](_0x1c8a97)[0x0]);_0x546499==_0x14faa3(0xaf)&&(_0x1c8a97=_0x2e39bf['buttonsMessage'],_0x546499=Object[_0x14faa3(0x83)](_0x1c8a97)[0x0]);try{if(_0x2df825){const _0x4c7dfe=await downloadContentFromMessage(_0x1c8a97[_0x546499],_0x18ab8b[_0x546499]);let _0x3dadca=Buffer[_0x14faa3(0x10e)]([]);for await(const _0x1ef73e of _0x4c7dfe){_0x3dadca=Buffer[_0x14faa3(0xe5)]([_0x3dadca,_0x1ef73e]);}await fs[_0x14faa3(0xc8)][_0x14faa3(0x9c)](_0x2df825,_0x3dadca),_0x36f67d(_0x2df825);}else{const _0x461c4d=await downloadContentFromMessage(_0x1c8a97[_0x546499],_0x18ab8b[_0x546499]);let _0x12607c=Buffer['from']([]);for await(const _0x192be3 of _0x461c4d){_0x12607c=Buffer['concat']([_0x12607c,_0x192be3]);}_0x36f67d(_0x12607c);}}catch(_0x594e07){_0x12f8da(_0x594e07);}});async function serialize(_0xd00966,_0x59eba4,_0x369baf){const _0x27f4b9=_0xa70925;_0xd00966['decodeJid']=_0x468979=>{const _0x150bb7=_0x4d5d;if(/:\d+@/gi[_0x150bb7(0xd2)](_0x468979)){const _0x3b4364=jidDecode(_0x468979)||{};return(_0x3b4364['user']&&_0x3b4364[_0x150bb7(0x9d)]&&_0x3b4364['user']+'@'+_0x3b4364['server']||_0x468979)['trim']();}else return _0x468979;};const _0x1ae492=require(_0x27f4b9(0x11a));_0x59eba4[_0x27f4b9(0x87)]=async(_0x104c59,_0x4e9e09=![])=>{const _0x5545e7=_0x27f4b9;let _0x37b5d8=decodeJid(_0x104c59),_0x5756b2;if(_0x37b5d8[_0x5545e7(0xeb)](_0x5545e7(0x98)))return new Promise(async _0x25dd22=>{const _0x2f6df1=_0x5545e7;_0x5756b2=_0x369baf[_0x2f6df1(0xa2)][_0x37b5d8]||{};if(!(_0x5756b2['name'][_0x2f6df1(0xe3)]||_0x5756b2['subject']))_0x5756b2=_0x59eba4['groupMetadata'](_0x37b5d8)||{};_0x25dd22(_0x5756b2[_0x2f6df1(0xe1)]||_0x5756b2[_0x2f6df1(0x7a)]||_0x1ae492('+'+_0x37b5d8[_0x2f6df1(0xf8)](_0x2f6df1(0xd4),''))[_0x2f6df1(0xd1)](_0x2f6df1(0x11b)));});else _0x5756b2=_0x37b5d8===_0x5545e7(0xb0)?{'id':_0x37b5d8,'name':_0x5545e7(0xe6)}:_0x37b5d8===decodeJid(_0x59eba4[_0x5545e7(0xf0)]['id'])?_0x59eba4[_0x5545e7(0xf0)]:_0x369baf[_0x5545e7(0xa2)][_0x37b5d8]||{};return(_0x4e9e09?'':_0x5756b2[_0x5545e7(0xe1)])||_0x5756b2[_0x5545e7(0x7a)]||_0x5756b2[_0x5545e7(0x78)]||_0x1ae492('+'+_0x104c59['replace'](_0x5545e7(0xd4),''))['getNumber']('international');},_0x59eba4['forward']=async(_0x36ef6d,_0x5ad639,_0x59cb24=![],_0x499c8d={})=>{const _0x2cc3d4=_0x27f4b9;let _0x53d9da;_0x499c8d[_0x2cc3d4(0x93)]&&(_0x5ad639[_0x2cc3d4(0x113)]=_0x5ad639[_0x2cc3d4(0x113)]&&_0x5ad639[_0x2cc3d4(0x113)][_0x2cc3d4(0x118)]&&_0x5ad639[_0x2cc3d4(0x113)][_0x2cc3d4(0x118)][_0x2cc3d4(0x113)]?_0x5ad639['message'][_0x2cc3d4(0x118)]['message']:_0x5ad639[_0x2cc3d4(0x113)]||undefined,_0x53d9da=Object[_0x2cc3d4(0x83)](_0x5ad639['message']['viewOnceMessage'][_0x2cc3d4(0x113)])[0x0],delete(_0x5ad639['message']&&_0x5ad639[_0x2cc3d4(0x113)]['ignore']?_0x5ad639[_0x2cc3d4(0x113)][_0x2cc3d4(0x100)]:_0x5ad639['message']||undefined),delete _0x5ad639[_0x2cc3d4(0x113)][_0x2cc3d4(0x84)][_0x2cc3d4(0x113)][_0x53d9da][_0x2cc3d4(0xca)],_0x5ad639[_0x2cc3d4(0x113)]={..._0x5ad639[_0x2cc3d4(0x113)][_0x2cc3d4(0x84)][_0x2cc3d4(0x113)]});let _0xfd183a=Object[_0x2cc3d4(0x83)](_0x5ad639[_0x2cc3d4(0x113)])[0x0],_0x3771cf=await generateForwardMessageContent(_0x5ad639,_0x59cb24),_0x4461f4=Object[_0x2cc3d4(0x83)](_0x3771cf)[0x0],_0x5abe31={};if(_0xfd183a!='conversation')_0x5abe31=_0x5ad639[_0x2cc3d4(0x113)][_0xfd183a]['contextInfo'];_0x3771cf[_0x4461f4]['contextInfo']={..._0x5abe31,..._0x3771cf[_0x4461f4][_0x2cc3d4(0x9e)]};const _0x546cbf=await generateWAMessageFromContent(_0x36ef6d,_0x3771cf,_0x499c8d?{..._0x3771cf[_0x4461f4],..._0x499c8d,..._0x499c8d[_0x2cc3d4(0x9e)]?{'contextInfo':{..._0x3771cf[_0x4461f4][_0x2cc3d4(0x9e)],..._0x499c8d[_0x2cc3d4(0x9e)]}}:{}}:{});return await _0x59eba4[_0x2cc3d4(0xe4)](_0x36ef6d,_0x546cbf[_0x2cc3d4(0x113)],{'messageId':_0x546cbf['key']['id']}),_0x546cbf;},_0x59eba4[_0x27f4b9(0x77)]={..._0x59eba4[_0x27f4b9(0x77)],'info'(){const _0x424668=_0x27f4b9;console[_0x424668(0xb7)]();},'error'(){console['log']();},'warn'(){const _0x56d4ef=_0x27f4b9;console[_0x56d4ef(0xb7)]();}};_0xd00966[_0x27f4b9(0x115)]&&(_0xd00966['id']=_0xd00966['key']['id'],_0xd00966['isSelf']=_0xd00966[_0x27f4b9(0x115)][_0x27f4b9(0x95)],_0xd00966['from']=_0xd00966['key'][_0x27f4b9(0xd7)],_0xd00966[_0x27f4b9(0xa1)]=_0xd00966[_0x27f4b9(0x10e)][_0x27f4b9(0xeb)](_0x27f4b9(0x98)),_0xd00966['sender']=_0xd00966[_0x27f4b9(0xa1)]?_0xd00966['decodeJid'](_0xd00966['key'][_0x27f4b9(0x102)]):_0xd00966['isSelf']?_0xd00966[_0x27f4b9(0xe8)](_0x59eba4['user']['id']):_0xd00966[_0x27f4b9(0x10e)]);if(_0xd00966[_0x27f4b9(0x113)]){_0xd00966[_0x27f4b9(0xbc)]=getContentType(_0xd00966[_0x27f4b9(0x113)]);if(_0xd00966[_0x27f4b9(0xbc)]===_0x27f4b9(0x118)){_0xd00966[_0x27f4b9(0x113)]=_0xd00966[_0x27f4b9(0x113)][_0xd00966['type']]['message'];const _0x5a2bfd=Object['keys'](_0xd00966[_0x27f4b9(0x113)])[0x0];_0xd00966[_0x27f4b9(0xbc)]=_0x5a2bfd,_0x5a2bfd===_0x27f4b9(0x84)&&(_0xd00966[_0x27f4b9(0x113)]=_0xd00966['message'][_0xd00966[_0x27f4b9(0xbc)]][_0x27f4b9(0x113)],_0xd00966[_0x27f4b9(0xbc)]=getContentType(_0xd00966[_0x27f4b9(0x113)]));}_0xd00966[_0x27f4b9(0xbc)]===_0x27f4b9(0x84)&&(_0xd00966[_0x27f4b9(0x113)]=_0xd00966[_0x27f4b9(0x113)][_0xd00966[_0x27f4b9(0xbc)]][_0x27f4b9(0x113)],_0xd00966['type']=getContentType(_0xd00966['message']));try{_0xd00966[_0x27f4b9(0x7c)]=_0xd00966[_0x27f4b9(0x113)][_0xd00966[_0x27f4b9(0xbc)]]['contextInfo']?_0xd00966['message'][_0xd00966[_0x27f4b9(0xbc)]][_0x27f4b9(0x9e)]['mentionedJid']||[]:[];}catch{_0xd00966[_0x27f4b9(0x7c)]=![];}try{const _0x265645=_0xd00966[_0x27f4b9(0x113)][_0xd00966[_0x27f4b9(0xbc)]][_0x27f4b9(0x9e)];if(_0x265645[_0x27f4b9(0xdc)]['ephemeralMessage']){const _0x5b53d9=Object[_0x27f4b9(0x83)](_0x265645[_0x27f4b9(0xdc)][_0x27f4b9(0x118)][_0x27f4b9(0x113)])[0x0];_0x5b53d9===_0x27f4b9(0x84)?_0xd00966[_0x27f4b9(0x8e)]={'type':_0x27f4b9(0x99),'stanzaId':_0x265645[_0x27f4b9(0xc4)],'sender':_0xd00966['decodeJid'](_0x265645[_0x27f4b9(0x102)]),'message':_0x265645['quotedMessage'][_0x27f4b9(0x118)][_0x27f4b9(0x113)]['viewOnceMessage'][_0x27f4b9(0x113)]}:_0xd00966[_0x27f4b9(0x8e)]={'type':_0x27f4b9(0xcc),'stanzaId':_0x265645['stanzaId'],'sender':_0xd00966[_0x27f4b9(0xe8)](_0x265645[_0x27f4b9(0x102)]),'message':_0x265645[_0x27f4b9(0xdc)][_0x27f4b9(0x118)][_0x27f4b9(0x113)]};}else _0x265645[_0x27f4b9(0xdc)][_0x27f4b9(0x84)]?_0xd00966[_0x27f4b9(0x8e)]={'type':'view_once','stanzaId':_0x265645[_0x27f4b9(0xc4)],'sender':_0xd00966['decodeJid'](_0x265645[_0x27f4b9(0x102)]),'message':_0x265645[_0x27f4b9(0xdc)][_0x27f4b9(0x84)]['message']}:_0xd00966['quoted']={'type':'normal','stanzaId':_0x265645['stanzaId'],'sender':_0xd00966[_0x27f4b9(0xe8)](_0x265645[_0x27f4b9(0x102)]),'message':_0x265645['quotedMessage']};_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0x107)]=await _0x59eba4[_0x27f4b9(0x87)](_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0x80)]),_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0x89)]=_0xd00966['quoted'][_0x27f4b9(0x80)]===_0xd00966[_0x27f4b9(0xe8)](_0x59eba4[_0x27f4b9(0xf0)]['id']),_0xd00966['quoted'][_0x27f4b9(0x96)]=Object[_0x27f4b9(0x83)](_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0x113)])['filter'](_0x14c684=>_0x14c684['includes'](_0x27f4b9(0x109))||_0x14c684['includes'](_0x27f4b9(0xfb)))[0x0],_0xd00966['quoted'][_0x27f4b9(0xef)]=_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0x113)][_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0x96)]][_0x27f4b9(0xef)]||_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0x113)][_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0x96)]][_0x27f4b9(0xaa)]||_0xd00966['quoted'][_0x27f4b9(0x113)][_0xd00966['quoted']['mtype']][_0x27f4b9(0x8f)]||_0xd00966[_0x27f4b9(0x8e)]['mtype']==_0x27f4b9(0x88)&&_0xd00966['quoted']['message'][_0xd00966[_0x27f4b9(0x8e)]['mtype']][_0x27f4b9(0xda)][_0x27f4b9(0xa5)]||_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0x113)][_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0x96)]]||'',_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0x115)]={'id':_0xd00966['quoted'][_0x27f4b9(0xc4)],'fromMe':_0xd00966[_0x27f4b9(0x8e)]['isSelf'],'remoteJid':_0xd00966[_0x27f4b9(0x10e)]},_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0xfe)]=()=>_0x59eba4[_0x27f4b9(0x73)](_0xd00966[_0x27f4b9(0x10e)],{'delete':_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0x115)]}),_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0xfd)]=_0x4c47ad=>downloadMedia(_0xd00966[_0x27f4b9(0x8e)][_0x27f4b9(0x113)],_0x4c47ad);}catch(_0x3998a6){_0xd00966[_0x27f4b9(0x8e)]=null;}try{_0xd00966[_0x27f4b9(0xde)]=_0xd00966[_0x27f4b9(0x113)][_0x27f4b9(0xfb)]||_0xd00966[_0x27f4b9(0x113)][_0xd00966['type']][_0x27f4b9(0xef)]||_0xd00966['message'][_0xd00966['type']][_0x27f4b9(0x8f)]||_0xd00966[_0x27f4b9(0xbc)]===_0x27f4b9(0x72)&&_0xd00966[_0x27f4b9(0x113)][_0xd00966[_0x27f4b9(0xbc)]][_0x27f4b9(0xcb)][_0x27f4b9(0x110)]||_0xd00966[_0x27f4b9(0xbc)]===_0x27f4b9(0xcf)&&_0xd00966[_0x27f4b9(0x113)][_0xd00966[_0x27f4b9(0xbc)]][_0x27f4b9(0xc3)]&&_0xd00966[_0x27f4b9(0x113)][_0xd00966['type']][_0x27f4b9(0xc3)]||_0xd00966[_0x27f4b9(0xbc)]===_0x27f4b9(0x88)&&_0xd00966[_0x27f4b9(0x113)][_0xd00966[_0x27f4b9(0xbc)]][_0x27f4b9(0xf4)]||![];}catch{_0xd00966[_0x27f4b9(0xde)]=![];}_0xd00966['getQuotedObj']=_0xd00966[_0x27f4b9(0x7f)]=async()=>{const _0x2ebf34=_0x27f4b9;if(!_0xd00966[_0x2ebf34(0x8e)]['stanzaId'])return![];let _0x14ac11=await _0x369baf[_0x2ebf34(0xf3)](_0xd00966['from'],_0xd00966[_0x2ebf34(0x8e)][_0x2ebf34(0xc4)],_0x59eba4);return serialize(_0x14ac11,_0x59eba4);},_0x59eba4[_0x27f4b9(0xe0)]=async(_0xa3e60e,_0x8496e3)=>{const _0x3a3aa8=_0x27f4b9;let _0x2474cd,_0x2cc21c,_0xcffb71=Buffer[_0x3a3aa8(0xa3)](_0xa3e60e)?_0xa3e60e:/^data:.*?\/.*?;base64,/i[_0x3a3aa8(0xd2)](_0xa3e60e)?Buffer[_0x3a3aa8(0x10e)](_0xa3e60e[_0x3a3aa8(0x85)]`,`[0x1],_0x3a3aa8(0x7e)):/^https?:\/\//[_0x3a3aa8(0xd2)](_0xa3e60e)?await(_0x2474cd=await fetch(_0xa3e60e))[_0x3a3aa8(0xa8)]():fs[_0x3a3aa8(0xd9)](_0xa3e60e)?(_0x2cc21c=_0xa3e60e,fs[_0x3a3aa8(0x108)](_0xa3e60e)):typeof _0xa3e60e===_0x3a3aa8(0x114)?_0xa3e60e:Buffer['alloc'](0x0);if(!Buffer[_0x3a3aa8(0xa3)](_0xcffb71))throw new TypeError(_0x3a3aa8(0x86));let _0x5c9036=await fromBuffer(_0xcffb71)||{'mime':_0x3a3aa8(0xa0),'ext':_0x3a3aa8(0x90)};if(_0xcffb71&&_0x8496e3&&!_0x2cc21c)_0x2cc21c=path[_0x3a3aa8(0xbf)](__dirname,_0x3a3aa8(0x8b)+new Date()*0x1+'.'+_0x5c9036[_0x3a3aa8(0xee)]),await fs[_0x3a3aa8(0xc8)][_0x3a3aa8(0x9c)](_0x2cc21c,_0xcffb71);return{'res':_0x2474cd,'filename':_0x2cc21c,..._0x5c9036,'data':_0xcffb71};};async function _0x221324(_0x475714,_0x276e05,_0x4ddf60={}){const _0x2eacaa=_0x27f4b9;if(Object[_0x2eacaa(0x83)](_0x4ddf60)[_0x2eacaa(0x119)]===0x0){if(typeof _0x276e05!=_0x2eacaa(0xed)){let _0x758e7f='\x20',_0x55bbec=this,_0xecd03a=_0x2eacaa(0xc1),_0x4b22fb=_0x2eacaa(0x7d),_0x4be398=await this[_0x2eacaa(0x116)][_0x2eacaa(0xe0)](_0x276e05,!![]),{res:_0x144fcd,data:_0x2c0e61,filename:_0x2903b6}=_0x4be398;if(_0x144fcd&&_0x144fcd['status']!==0xc8||_0x2c0e61['length']<=0x10000)try{return{'json':JSON[_0x2eacaa(0xfa)](_0x2c0e61['toString']())};}catch(_0x64bdef){if(_0x64bdef[_0x2eacaa(0x91)])return _0x64bdef[_0x2eacaa(0x91)];}let _0x379eb0={'filename':_0x4b22fb};if(_0x55bbec)_0x379eb0[_0x2eacaa(0x8e)]=_0x55bbec;if(!_0x4be398){if(_0x4ddf60[_0x2eacaa(0xe7)])_0x4ddf60[_0x2eacaa(0xe7)]=!![];}let _0x30e4ca='',_0x350052=_0x4be398['mime'],_0x132943=_0x2fa813=>_0x2eacaa(0xf5)+Date['now']()+'.'+_0x2fa813;if(/webp/[_0x2eacaa(0xd2)](_0x4be398[_0x2eacaa(0x97)]))_0x30e4ca=_0x2eacaa(0xb3);else{if(/image/[_0x2eacaa(0xd2)](_0x4be398[_0x2eacaa(0x97)]))_0x30e4ca=_0x2eacaa(0xfc);else{if(/video/[_0x2eacaa(0xd2)](_0x4be398[_0x2eacaa(0x97)]))_0x30e4ca=_0x2eacaa(0xb1);else{if(/audio/[_0x2eacaa(0xd2)](_0x4be398[_0x2eacaa(0x97)]))ss=await(ptt?toPTT:toAudio)(_0x2c0e61,_0x4be398[_0x2eacaa(0xee)]),skk=await require(_0x2eacaa(0x82))['fromBuffer'](ss['data']),ty=_0x132943(skk['ext']),require('fs')[_0x2eacaa(0xb8)](ty,ss[_0x2eacaa(0xac)]),_0x2903b6=ty,_0x30e4ca=_0x2eacaa(0xf2),_0x350052=_0x2eacaa(0xb4);else _0x30e4ca=_0x2eacaa(0x8d);}}}this[_0x2eacaa(0x116)][_0x2eacaa(0x73)](_0x475714,{..._0x4ddf60,'caption':_0x758e7f,'fileName':_0xecd03a,[_0x30e4ca]:{'url':_0x2903b6},'mimetype':_0x350052,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![]}},{..._0x379eb0,..._0x4ddf60})['then'](()=>{fs['unlinkSync'](_0x2903b6);});}else{let _0xb78c28=_0x276e05,_0x39afb6=this,_0xe12df2=_0x2eacaa(0xc1),_0x39e709=await this['conn'][_0x2eacaa(0xe0)](_0xb78c28,!![]),{filename:_0x412dd0,size:_0x13072b,ext:_0x465e77,mime:_0x3a8eb3,data:_0x5d46c6}=_0x39e709,_0x53b4cf='',_0x3c6d68=_0x3a8eb3,_0x11ffad=_0x412dd0;if(_0x4ddf60[_0x2eacaa(0xe7)])_0x53b4cf=_0x2eacaa(0x8d);if(_0x4ddf60[_0x2eacaa(0x111)]||/webp/['test'](_0x3a8eb3)){let {writeExifWebp:_0x39da8b}=require(_0x2eacaa(0x8c)),_0x55c82f={'mimetype':_0x3a8eb3,'data':_0x5d46c6};_0x11ffad=await _0x39da8b(_0x55c82f,{'packname':_0x4ddf60['packname']?_0x4ddf60[_0x2eacaa(0xd5)]:'\x20','author':_0x4ddf60['author']?_0x4ddf60[_0x2eacaa(0xbb)]:'\x20','categories':_0x4ddf60[_0x2eacaa(0xe9)]?_0x4ddf60[_0x2eacaa(0xe9)]:[]}),await fs[_0x2eacaa(0xc8)][_0x2eacaa(0x76)](_0x412dd0),_0x53b4cf='sticker',_0x3c6d68=_0x2eacaa(0x104);}else{if(/image/[_0x2eacaa(0xd2)](_0x3a8eb3))_0x53b4cf=_0x2eacaa(0xfc);else{if(/video/[_0x2eacaa(0xd2)](_0x3a8eb3))_0x53b4cf=_0x2eacaa(0xb1);else{if(/audio/[_0x2eacaa(0xd2)](_0x3a8eb3))_0x53b4cf=_0x2eacaa(0xf2);else _0x53b4cf=_0x2eacaa(0x8d);}}}return await this['conn'][_0x2eacaa(0x73)](_0x475714,{[_0x53b4cf]:_0x276e05,'mimetype':_0x3c6d68,'fileName':_0xe12df2,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![]}}),fs[_0x2eacaa(0xc8)]['unlink'](_0x11ffad);}}else{if(typeof _0x276e05!=_0x2eacaa(0xed)){let _0xa5094c={},_0x3e2f93=_0x2eacaa(0xc1),_0x502127=_0x2eacaa(0x7b),_0x23e611=this;_0x4ddf60[_0x2eacaa(0x101)]&&(_0xa5094c={'externalAdReply':{'title':_0x4ddf60['externalAdReply'][_0x2eacaa(0xc9)]||null,'body':_0x4ddf60[_0x2eacaa(0x101)][_0x2eacaa(0xde)]||null,'renderLargerThumbnail':_0x4ddf60[_0x2eacaa(0x101)]['renderLargerThumbnail'],'showAdAttribution':_0x4ddf60[_0x2eacaa(0x101)][_0x2eacaa(0x79)]||![],'mediaType':_0x4ddf60['externalAdReply'][_0x2eacaa(0xdf)]||0x2,'thumbnail':_0x4ddf60[_0x2eacaa(0x101)][_0x2eacaa(0x8a)]||null,'mediaUrl':_0x4ddf60[_0x2eacaa(0x101)][_0x2eacaa(0xae)]||null,'sourceUrl':_0x4ddf60[_0x2eacaa(0x101)]['sourceUrl']||null}});let _0x17a29e=await this[_0x2eacaa(0x116)][_0x2eacaa(0xe0)](_0x276e05,!![]),{res:_0x483fe3,data:_0x4ba8dd,filename:_0x3ad3c5}=_0x17a29e;if(_0x483fe3&&_0x483fe3['status']!==0xc8||_0x4ba8dd['length']<=0x10000)try{return{'json':JSON['parse'](_0x4ba8dd[_0x2eacaa(0xbd)]())};}catch(_0x59b71b){if(_0x59b71b[_0x2eacaa(0x91)])return _0x59b71b[_0x2eacaa(0x91)];}let _0x53b3e6={'filename':_0x502127};if(_0x23e611)_0x53b3e6[_0x2eacaa(0x8e)]=_0x23e611;if(!_0x17a29e){if(_0x4ddf60[_0x2eacaa(0xe7)])_0x4ddf60[_0x2eacaa(0xe7)]=!![];}let _0x437dc4='',_0x2b726d=_0x17a29e['mime'],_0x482dc2=_0x39b505=>'../media/'+Date[_0x2eacaa(0x92)]()+'.'+_0x39b505;if(/webp/[_0x2eacaa(0xd2)](_0x17a29e[_0x2eacaa(0x97)]))_0x437dc4=_0x2eacaa(0xb3);else{if(/image/[_0x2eacaa(0xd2)](_0x17a29e[_0x2eacaa(0x97)]))_0x437dc4='image';else{if(/video/[_0x2eacaa(0xd2)](_0x17a29e[_0x2eacaa(0x97)]))_0x437dc4='video';else{if(/audio/[_0x2eacaa(0xd2)](_0x17a29e[_0x2eacaa(0x97)]))ss=await(ptt?toPTT:toAudio)(_0x4ba8dd,_0x17a29e['ext']),skk=await require('file-type')[_0x2eacaa(0xab)](ss[_0x2eacaa(0xac)]),ty=_0x482dc2(skk[_0x2eacaa(0xee)]),require('fs')[_0x2eacaa(0xb8)](ty,ss[_0x2eacaa(0xac)]),_0x3ad3c5=ty,_0x437dc4=_0x2eacaa(0xf2),_0x2b726d=_0x2eacaa(0xb4);else _0x437dc4=_0x2eacaa(0x8d);}}}let _0x2ef41f={'mimetype':_0x4ddf60['mimetype']||null,'jpegThumbnail':_0x4ddf60[_0x2eacaa(0x103)]||null,'viewOnce':_0x4ddf60[_0x2eacaa(0xca)],'mentions':_0x4ddf60[_0x2eacaa(0x7c)]||null,'fileName':_0x4ddf60['fileName']||null,'fileLength':_0x4ddf60['fileLength']||null,'caption':_0x4ddf60[_0x2eacaa(0x8f)],'footer':_0x4ddf60[_0x2eacaa(0xd8)]||null,'buttons':_0x4ddf60['buttons']||null,'headerType':0x4,'ptt':_0x4ddf60[_0x2eacaa(0xa9)]||![],'seconds':[_0x4ddf60[_0x2eacaa(0xc0)]],'waveform':_0x4ddf60[_0x2eacaa(0xb2)],'contextInfo':{'forwardingScore':_0x4ddf60[_0x2eacaa(0xd3)],'isForwarded':_0x4ddf60[_0x2eacaa(0xce)],..._0xa5094c}};_0x437dc4=_0x4ddf60[_0x2eacaa(0xf1)]||_0x437dc4,this[_0x2eacaa(0x116)][_0x2eacaa(0x73)](_0x475714,{[_0x437dc4]:{'url':_0x3ad3c5},..._0x2ef41f},{'quoted':_0x4ddf60['quoted']})[_0x2eacaa(0x9b)](()=>{const _0x37f7bb=_0x2eacaa;fs[_0x37f7bb(0xea)](_0x3ad3c5);});}else{if(typeof _0x276e05==_0x2eacaa(0xed)){let _0x50ae38=_0x276e05,_0x19ae48=_0x2eacaa(0x10d),_0x4c4ffb=_0x4ddf60[_0x2eacaa(0x8e)]||null,_0x66e89c=await this[_0x2eacaa(0x116)][_0x2eacaa(0xe0)](_0x50ae38,!![]),{filename:_0x3ade36,size:_0x38404a,ext:_0x1cb020,mime:_0x168876,data:_0x18b2f2}=_0x66e89c,_0x18842f='',_0xf60b5e=_0x168876,_0x58b742=_0x3ade36;if(_0x4ddf60[_0x2eacaa(0xe7)])_0x18842f=_0x2eacaa(0x8d);if(_0x4ddf60[_0x2eacaa(0x111)]||/webp/[_0x2eacaa(0xd2)](_0x168876)){let {writeExifWebp:_0x2aaa97}=require(_0x2eacaa(0x8c)),_0x35b773={'mimetype':_0x168876,'data':_0x18b2f2};_0x58b742=await _0x2aaa97(_0x35b773,{'packname':_0x4ddf60[_0x2eacaa(0xd5)]?_0x4ddf60['packname']:'\x20','author':_0x4ddf60[_0x2eacaa(0xbb)]?_0x4ddf60[_0x2eacaa(0xbb)]:'\x20','categories':_0x4ddf60['categories']?_0x4ddf60[_0x2eacaa(0xe9)]:[]}),await fs[_0x2eacaa(0xc8)][_0x2eacaa(0x76)](_0x3ade36),_0x18842f=_0x2eacaa(0xb3),_0xf60b5e=_0x2eacaa(0x104);}else{if(/image/[_0x2eacaa(0xd2)](_0x168876))_0x18842f=_0x2eacaa(0xfc);else{if(/video/[_0x2eacaa(0xd2)](_0x168876))_0x18842f=_0x2eacaa(0xb1);else{if(/audio/[_0x2eacaa(0xd2)](_0x168876))_0x18842f='audio';else _0x18842f='document';}}}_0x18842f=_0x4ddf60[_0x2eacaa(0xf1)]||_0x18842f;let _0x3f515b={};_0x4ddf60[_0x2eacaa(0x101)]&&(_0x3f515b={'externalAdReply':{'title':_0x4ddf60['externalAdReply'][_0x2eacaa(0xc9)]||null,'body':_0x4ddf60[_0x2eacaa(0x101)][_0x2eacaa(0xde)]||null,'renderLargerThumbnail':_0x4ddf60[_0x2eacaa(0x101)]['renderLargerThumbnail'],'showAdAttribution':_0x4ddf60['externalAdReply'][_0x2eacaa(0x79)]||![],'mediaType':_0x4ddf60[_0x2eacaa(0x101)]['mediaType']||0x2,'thumbnail':_0x4ddf60['externalAdReply']['thumbnail']||null,'mediaUrl':_0x4ddf60[_0x2eacaa(0x101)][_0x2eacaa(0xae)]||null,'sourceUrl':_0x4ddf60[_0x2eacaa(0x101)]['sourceUrl']||null}});let _0x16d5ea={'mimetype':_0x4ddf60[_0x2eacaa(0xb6)]||_0xf60b5e,'jpegThumbnail':_0x4ddf60[_0x2eacaa(0x103)],'viewOnce':_0x4ddf60[_0x2eacaa(0xca)],'mentions':_0x4ddf60[_0x2eacaa(0x7c)],'fileName':_0x4ddf60['fileName'],'fileLength':_0x4ddf60[_0x2eacaa(0xc6)],'caption':_0x4ddf60[_0x2eacaa(0x8f)],'footer':_0x4ddf60[_0x2eacaa(0xd8)],'buttons':_0x4ddf60[_0x2eacaa(0x75)],'headerType':_0x4ddf60[_0x2eacaa(0xdd)],'ptt':_0x4ddf60[_0x2eacaa(0xa9)],'seconds':[_0x4ddf60[_0x2eacaa(0xc0)]],'waveform':_0x4ddf60[_0x2eacaa(0xb2)],'contextInfo':{'forwardingScore':_0x4ddf60[_0x2eacaa(0xd3)],'isForwarded':_0x4ddf60[_0x2eacaa(0xce)],..._0x3f515b}};return await this['conn'][_0x2eacaa(0x73)](_0x475714,{[_0x18842f]:_0x276e05,..._0x16d5ea},{'quoted':_0x4ddf60['quoted']}),fs['promises'][_0x2eacaa(0x76)](_0x58b742);}}}}_0x59eba4['sendImageAsSticker']=async(_0x4c9c00,_0x3ab034,_0x1cd345={})=>{const _0x3d4cce=_0x27f4b9;let _0x372183;_0x1cd345&&(_0x1cd345[_0x3d4cce(0xd5)]||_0x1cd345[_0x3d4cce(0xbb)])?_0x372183=await writeExifImg(_0x3ab034,_0x1cd345):_0x372183=await imageToWebp(_0x3ab034),await _0x59eba4[_0x3d4cce(0x73)](_0x4c9c00,{'sticker':{'url':_0x372183},..._0x1cd345},_0x1cd345);},_0x59eba4[_0x27f4b9(0x81)]=async(_0x563ca7,_0x1060c7,_0xf3b7f3={})=>{const _0x542328=_0x27f4b9;let _0x328860;_0xf3b7f3&&(_0xf3b7f3['packname']||_0xf3b7f3[_0x542328(0xbb)])?_0x328860=await writeExifVid(_0x1060c7,_0xf3b7f3):_0x328860=await videoToWebp(_0x1060c7),await _0x59eba4[_0x542328(0x73)](_0x563ca7,{'sticker':{'url':_0x328860},..._0xf3b7f3},_0xf3b7f3);},_0x59eba4[_0x27f4b9(0xc5)]=async(_0x3180b5,_0x4818f5='')=>{const _0x4331b2=_0x27f4b9;_0x59eba4['sendMessage'](_0xd00966[_0x4331b2(0x10e)],{'text':require('util')[_0x4331b2(0xbe)](_0x3180b5),'mentions':_0x4818f5['withTag']?[..._0x3180b5[_0x4331b2(0xa7)](/@([0-9]{5,16}|0)/g)][_0x4331b2(0x105)](_0xf17b18=>_0xf17b18[0x1]+'@s.whatsapp.net'):[],..._0x4818f5},{..._0x4818f5,'quoted':_0xd00966});},_0xd00966[_0x27f4b9(0xd0)]=async(_0x21ab9f,_0x186fb2='',_0x5e79bd='',_0xf5e31d,_0x571897=![],_0x13672a={})=>{const _0xe29a8e=_0x27f4b9;let _0x5d5dce=await _0x59eba4[_0xe29a8e(0xe0)](_0x21ab9f,!![]),{res:_0x18cb69,data:_0x2e20e5,filename:_0x234a85}=_0x5d5dce;if(_0x18cb69&&_0x18cb69[_0xe29a8e(0x10f)]!==0xc8||_0x2e20e5[_0xe29a8e(0x119)]<=0x10000)try{throw{'json':JSON['parse'](_0x2e20e5[_0xe29a8e(0xbd)]())};}catch(_0x41b564){if(_0x41b564[_0xe29a8e(0x91)])throw _0x41b564[_0xe29a8e(0x91)];}let _0x5e18be={'filename':_0x186fb2};if(_0xf5e31d)_0x5e18be['quoted']=_0xf5e31d;let _0x8bc068='',_0x161be4=_0x5d5dce[_0xe29a8e(0x97)],_0x1f365b=_0x9a1839=>'./temp/'+Date[_0xe29a8e(0x92)]()+'.'+_0x9a1839;if(/webp/[_0xe29a8e(0xd2)](_0x5d5dce[_0xe29a8e(0x97)]))_0x8bc068=_0xe29a8e(0xb3);else{if(/image/['test'](_0x5d5dce['mime']))_0x8bc068=_0xe29a8e(0xfc);else{if(/video/[_0xe29a8e(0xd2)](_0x5d5dce['mime']))_0x8bc068=_0xe29a8e(0xb1);else{if(/audio/[_0xe29a8e(0xd2)](_0x5d5dce[_0xe29a8e(0x97)]))ss=await(_0x571897?toPTT:toAudio)(_0x2e20e5,_0x5d5dce[_0xe29a8e(0xee)]),skk=await require(_0xe29a8e(0x82))[_0xe29a8e(0xab)](ss[_0xe29a8e(0xac)]),ty=_0x1f365b(skk['ext']),require('fs')['writeFileSync'](ty,ss['data']),_0x234a85=ty,_0x8bc068='audio',_0x161be4=_0xe29a8e(0xb4);else _0x8bc068=_0xe29a8e(0x8d);}}}_0x59eba4['sendMessage'](_0xd00966[_0xe29a8e(0x10e)],{..._0x13672a,'caption':_0x5e79bd,'ptt':_0x571897,'fileName':_0x186fb2,[_0x8bc068]:{'url':_0x234a85},'mimetype':_0x161be4},{..._0x5e18be,..._0x13672a})[_0xe29a8e(0x9b)](()=>{const _0x493f71=_0xe29a8e;fs[_0x493f71(0xea)](_0x234a85);});},_0x59eba4[_0x27f4b9(0xf7)]=async(_0x14de8a,_0x5bef94,_0x1b7e5f={})=>{const _0x333274=_0x27f4b9;let _0x51af9=await _0x59eba4[_0x333274(0xe0)](_0x5bef94,!![]),{res:_0x82cc9e,data:_0x288339,filename:_0xef5564,mime:_0x4644ea}=_0x51af9,_0x4c29c6=_0x4644ea[_0x333274(0x85)]('/')[0x0];console[_0x333274(0xb7)](_0x4644ea);let _0x6c9072={..._0x1b7e5f,[_0x4c29c6]:{'url':_0xef5564},'mimetype':_0x1b7e5f['mimetype']||_0x4644ea},_0x26c403;try{_0x26c403=await _0x59eba4[_0x333274(0x73)](_0x14de8a,_0x6c9072,{..._0x1b7e5f});}catch(_0x420ec0){console['error'](_0x420ec0),_0x26c403=null;}finally{if(!_0x26c403)_0x26c403=await _0x59eba4[_0x333274(0x73)](_0x14de8a,{..._0x6c9072,[_0x4c29c6]:_0x288339},{..._0x1b7e5f});return _0x288339=null,_0x26c403;}},_0x59eba4['reply']=async(_0x2533b9,_0x9b34d8='')=>{const _0x42a797=_0x27f4b9;_0x59eba4[_0x42a797(0x73)](_0xd00966['from'],{'text':require('util')[_0x42a797(0xbe)](_0x2533b9),'mentions':_0x9b34d8[_0x42a797(0xd6)]?[..._0x2533b9[_0x42a797(0xa7)](/@([0-9]{5,16}|0)/g)]['map'](_0x65873f=>_0x65873f[0x1]+_0x42a797(0xd4)):[],..._0x9b34d8},{..._0x9b34d8,'quoted':_0xd00966});},_0xd00966[_0x27f4b9(0xa4)]=async(_0xe2ef0a,_0x4c06ac)=>{const _0x18fc52=_0x27f4b9;_0x59eba4[_0x18fc52(0x73)](_0xd00966[_0x18fc52(0x10e)],{'text':require(_0x18fc52(0x117))['format'](_0xe2ef0a),..._0x4c06ac},{..._0x4c06ac});},_0xd00966['download']=_0xe6f852=>downloadMedia(_0xd00966[_0x27f4b9(0x113)],_0xe6f852),_0x59eba4['client']=_0xd00966;}return _0xd00966;}module[_0xa70925(0x94)]={'serialize':serialize,'downloadMedia':downloadMedia};
