const _0x17acda=_0x254d;(function(_0x153e97,_0x1c331e){const _0x128169=_0x254d,_0x5a598f=_0x153e97();while(!![]){try{const _0x4c090e=-parseInt(_0x128169(0x278))/0x1*(parseInt(_0x128169(0x210))/0x2)+parseInt(_0x128169(0x253))/0x3+parseInt(_0x128169(0x286))/0x4*(-parseInt(_0x128169(0x206))/0x5)+-parseInt(_0x128169(0x21a))/0x6*(parseInt(_0x128169(0x26b))/0x7)+parseInt(_0x128169(0x293))/0x8*(-parseInt(_0x128169(0x257))/0x9)+parseInt(_0x128169(0x21b))/0xa+parseInt(_0x128169(0x261))/0xb*(parseInt(_0x128169(0x23d))/0xc);if(_0x4c090e===_0x1c331e)break;else _0x5a598f['push'](_0x5a598f['shift']());}catch(_0x194490){_0x5a598f['push'](_0x5a598f['shift']());}}}(_0x29ef,0x31e68));const {jidDecode,downloadContentFromMessage,getContentType,generateForwardMessageContent,generateLinkPreviewIfRequired,generateWAMessageFromContent}=require(_0x17acda(0x224)),fs=require('fs');cmd={0x1:[_0x17acda(0x248),'-vcodec','libwebp',_0x17acda(0x28b),_0x17acda(0x217)],0x2:[_0x17acda(0x248),_0x17acda(0x201),_0x17acda(0x247)]};const fetch=require(_0x17acda(0x24b)),{store,tiny,toPTT,toAudio,parseJid,getRandom,isNumber,decodeJid}=require('.'),PhoneNumber=require(_0x17acda(0x230)),{connected}=require(_0x17acda(0x1f4)),{fromBuffer}=require(_0x17acda(0x235));function _0x254d(_0x2502b8,_0x36b76e){const _0x29efb0=_0x29ef();return _0x254d=function(_0x254d32,_0x49030c){_0x254d32=_0x254d32-0x1e6;let _0x235f0b=_0x29efb0[_0x254d32];return _0x235f0b;},_0x254d(_0x2502b8,_0x36b76e);}let path=require(_0x17acda(0x21f));function _0x29ef(){const _0x2ccfa1=['@g.us','headerType','withTag','@s.whatsapp.net','notify','footer','key','body','mentions','view_once','concat','forwardingScore','-vcodec','selectedButtonId','subject','json','showAdAttribution','355UFlokv','fromBuffer','filter','sendFile','renderLargerThumbnail','jpegThumbnail','participant','normal','object','isBuffer','12GkIUjH','logger','\x20emdinet','buffer','fileName','isGroup','application/octet-stream','scale=512:512:flags=lanczos:force_original_aspect_ratio=decrease,format=rgba,pad=512:512:(ow-iw)/2:(oh-ih)/2:color=#00000000,setsar=1','asDocument','ephemeralMessage','378Rcykem','1187970cRykMb','buttons','keys','image','path','seconds','toString','message','stanzaId','@adiwajshing/baileys','replace','unlink','fileLength','mediaUrl','send','sourceUrl','text','loadMessage','./sticker','decodeJid','from','awesome-phonenumber','ignore','.bin','Result\x20is\x20not\x20a\x20buffer','thumbnail','file-type','length','now','status','then','type','writeFile','emdinet','12nYeDOM','promises','getFile','test','map','hydratedTemplate','quotedMessage','quoted','mime','client','libwebp','-fs\x201M','groupMetadata','download','node-fetch','verifiedName','caption','getName','./temp','getQuotedMessage','packname','hydratedFourRowTemplate','1204704kBoouX','readFileSync','singleSelectReply','getQuotedObj','2049120kuFUYn','../config','buttonsMessage','viewOnceMessage','trim','mimetype','existsSync','format','audio','unlinkSync','7448474svuowP','sender','./temp/','categories','viewOnce','../','contacts','forwardType','isSelf','image/webp','35343ToSIYp','alloc','0@s.whatsapp.net','mtype','mediaType','sendVideoAsSticker','sendMessage','conversation','join','asSticker','author','matchAll','hydratedContentText','51458hXWYZM','into','international','ext','templateButtonReplyMessage','readViewOnce','video','emdinetWork','name','contextInfo','Message','document','audio/mpeg','../temp','7808QaRaez','listResponseMessage','util','log','senderName','-vf','relayMessage','description','title','server','sendFromUrl','ephemeral','templateMessage','8GMaIHj','ptt','data','endsWith','getNumber','error','sticker','string','forward','writeFileSync','externalAdReply','fromMe','parse','reply','mentionedJid','process'];_0x29ef=function(){return _0x2ccfa1;};return _0x29ef();}const {writeExifImg,writeExifVid,imageToWebp,videoToWebp}=require(_0x17acda(0x22d)),config=require(_0x17acda(0x258)),downloadMedia=(_0x39d6a8,_0x17b90b)=>new Promise(async(_0x261ec6,_0x52f987)=>{const _0x56a743=_0x17acda;let _0x25b3ec=Object[_0x56a743(0x21d)](_0x39d6a8)[0x0],_0x49d17e={'imageMessage':_0x56a743(0x21e),'videoMessage':_0x56a743(0x27e),'stickerMessage':_0x56a743(0x1eb),'documentMessage':_0x56a743(0x283),'audioMessage':'audio'},_0x3e55bf=_0x39d6a8;_0x25b3ec==_0x56a743(0x292)&&(_0x3e55bf=_0x39d6a8[_0x56a743(0x292)][_0x56a743(0x252)],_0x25b3ec=Object['keys'](_0x3e55bf)[0x0]);_0x25b3ec=='buttonsMessage'&&(_0x3e55bf=_0x39d6a8[_0x56a743(0x259)],_0x25b3ec=Object['keys'](_0x3e55bf)[0x0]);try{if(_0x17b90b){const _0x2b24fa=await downloadContentFromMessage(_0x3e55bf[_0x25b3ec],_0x49d17e[_0x25b3ec]);let _0xa1d9af=Buffer[_0x56a743(0x22f)]([]);for await(const _0x2950ca of _0x2b24fa){_0xa1d9af=Buffer[_0x56a743(0x1ff)]([_0xa1d9af,_0x2950ca]);}await fs[_0x56a743(0x23e)][_0x56a743(0x23b)](_0x17b90b,_0xa1d9af),_0x261ec6(_0x17b90b);}else{const _0x569963=await downloadContentFromMessage(_0x3e55bf[_0x25b3ec],_0x49d17e[_0x25b3ec]);let _0x3305ae=Buffer[_0x56a743(0x22f)]([]);for await(const _0x282ce2 of _0x569963){_0x3305ae=Buffer[_0x56a743(0x1ff)]([_0x3305ae,_0x282ce2]);}_0x261ec6(_0x3305ae);}}catch(_0x5f287e){_0x52f987(_0x5f287e);}});async function serialize(_0x19dd3c,_0x50f812,_0x2dd976){const _0x38ad8e=_0x17acda;_0x19dd3c[_0x38ad8e(0x22e)]=_0x6ffd25=>{const _0x553422=_0x38ad8e;if(/:\d+@/gi[_0x553422(0x240)](_0x6ffd25)){const _0x5e9a4f=jidDecode(_0x6ffd25)||{};return(_0x5e9a4f['user']&&_0x5e9a4f['server']&&_0x5e9a4f['user']+'@'+_0x5e9a4f[_0x553422(0x28f)]||_0x6ffd25)[_0x553422(0x25b)]();}else return _0x6ffd25;};const _0x5002d2=require(_0x38ad8e(0x230));_0x50f812[_0x38ad8e(0x24e)]=async(_0x2d7cfc,_0x543891=![])=>{const _0x449201=_0x38ad8e;let _0x5efc87=decodeJid(_0x2d7cfc),_0x3e23e3;if(_0x5efc87[_0x449201(0x1e8)](_0x449201(0x1f5)))return new Promise(async _0x1ccbb3=>{const _0x8d50fa=_0x449201;_0x3e23e3=_0x2dd976[_0x8d50fa(0x267)][_0x5efc87]||{};if(!(_0x3e23e3[_0x8d50fa(0x280)][_0x8d50fa(0x1f9)]||_0x3e23e3['subject']))_0x3e23e3=_0x50f812[_0x8d50fa(0x249)](_0x5efc87)||{};_0x1ccbb3(_0x3e23e3['name']||_0x3e23e3[_0x8d50fa(0x203)]||_0x5002d2('+'+_0x5efc87[_0x8d50fa(0x225)](_0x8d50fa(0x1f8),''))[_0x8d50fa(0x1e9)](_0x8d50fa(0x27a)));});else _0x3e23e3=_0x5efc87===_0x449201(0x26d)?{'id':_0x5efc87,'name':'WhatsApp'}:_0x5efc87===decodeJid(_0x50f812['user']['id'])?_0x50f812['user']:_0x2dd976[_0x449201(0x267)][_0x5efc87]||{};return(_0x543891?'':_0x3e23e3[_0x449201(0x280)])||_0x3e23e3['subject']||_0x3e23e3[_0x449201(0x24c)]||_0x5002d2('+'+_0x2d7cfc[_0x449201(0x225)](_0x449201(0x1f8),''))[_0x449201(0x1e9)]('international');},_0x50f812[_0x38ad8e(0x1ed)]=async(_0x3ca6ba,_0x331353,_0x23683b=![],_0x44e9bc={})=>{const _0x4a5d20=_0x38ad8e;let _0x577ff9;_0x44e9bc[_0x4a5d20(0x27d)]&&(_0x331353[_0x4a5d20(0x222)]=_0x331353[_0x4a5d20(0x222)]&&_0x331353[_0x4a5d20(0x222)][_0x4a5d20(0x219)]&&_0x331353['message'][_0x4a5d20(0x219)][_0x4a5d20(0x222)]?_0x331353[_0x4a5d20(0x222)][_0x4a5d20(0x219)]['message']:_0x331353['message']||undefined,_0x577ff9=Object[_0x4a5d20(0x21d)](_0x331353[_0x4a5d20(0x222)]['viewOnceMessage'][_0x4a5d20(0x222)])[0x0],delete(_0x331353[_0x4a5d20(0x222)]&&_0x331353[_0x4a5d20(0x222)][_0x4a5d20(0x231)]?_0x331353[_0x4a5d20(0x222)][_0x4a5d20(0x231)]:_0x331353[_0x4a5d20(0x222)]||undefined),delete _0x331353['message'][_0x4a5d20(0x25a)][_0x4a5d20(0x222)][_0x577ff9][_0x4a5d20(0x265)],_0x331353[_0x4a5d20(0x222)]={..._0x331353[_0x4a5d20(0x222)]['viewOnceMessage'][_0x4a5d20(0x222)]});let _0xdd1fd1=Object[_0x4a5d20(0x21d)](_0x331353[_0x4a5d20(0x222)])[0x0],_0x12807b=await generateForwardMessageContent(_0x331353,_0x23683b),_0x33eadb=Object['keys'](_0x12807b)[0x0],_0x1c236b={};if(_0xdd1fd1!=_0x4a5d20(0x272))_0x1c236b=_0x331353[_0x4a5d20(0x222)][_0xdd1fd1][_0x4a5d20(0x281)];_0x12807b[_0x33eadb][_0x4a5d20(0x281)]={..._0x1c236b,..._0x12807b[_0x33eadb][_0x4a5d20(0x281)]};const _0x41b192=await generateWAMessageFromContent(_0x3ca6ba,_0x12807b,_0x44e9bc?{..._0x12807b[_0x33eadb],..._0x44e9bc,..._0x44e9bc[_0x4a5d20(0x281)]?{'contextInfo':{..._0x12807b[_0x33eadb]['contextInfo'],..._0x44e9bc[_0x4a5d20(0x281)]}}:{}}:{});return await _0x50f812[_0x4a5d20(0x28c)](_0x3ca6ba,_0x41b192[_0x4a5d20(0x222)],{'messageId':_0x41b192[_0x4a5d20(0x1fb)]['id']}),_0x41b192;},_0x50f812[_0x38ad8e(0x211)]={..._0x50f812['logger'],'info'(){const _0xf17bfb=_0x38ad8e;console[_0xf17bfb(0x289)]();},'error'(){const _0x2c1545=_0x38ad8e;console[_0x2c1545(0x289)]();},'warn'(){const _0x38cea4=_0x38ad8e;console[_0x38cea4(0x289)]();}};_0x19dd3c[_0x38ad8e(0x1fb)]&&(_0x19dd3c['id']=_0x19dd3c[_0x38ad8e(0x1fb)]['id'],_0x19dd3c[_0x38ad8e(0x269)]=_0x19dd3c[_0x38ad8e(0x1fb)][_0x38ad8e(0x1f0)],_0x19dd3c[_0x38ad8e(0x22f)]=_0x19dd3c[_0x38ad8e(0x1fb)]['remoteJid'],_0x19dd3c[_0x38ad8e(0x215)]=_0x19dd3c[_0x38ad8e(0x22f)]['endsWith'](_0x38ad8e(0x1f5)),_0x19dd3c[_0x38ad8e(0x262)]=_0x19dd3c[_0x38ad8e(0x215)]?_0x19dd3c['decodeJid'](_0x19dd3c[_0x38ad8e(0x1fb)]['participant']):_0x19dd3c[_0x38ad8e(0x269)]?_0x19dd3c['decodeJid'](_0x50f812['user']['id']):_0x19dd3c['from']);if(_0x19dd3c['message']){_0x19dd3c[_0x38ad8e(0x23a)]=getContentType(_0x19dd3c[_0x38ad8e(0x222)]);if(_0x19dd3c['type']===_0x38ad8e(0x219)){_0x19dd3c['message']=_0x19dd3c[_0x38ad8e(0x222)][_0x19dd3c[_0x38ad8e(0x23a)]][_0x38ad8e(0x222)];const _0x1a65b7=Object[_0x38ad8e(0x21d)](_0x19dd3c[_0x38ad8e(0x222)])[0x0];_0x19dd3c[_0x38ad8e(0x23a)]=_0x1a65b7,_0x1a65b7===_0x38ad8e(0x25a)&&(_0x19dd3c[_0x38ad8e(0x222)]=_0x19dd3c[_0x38ad8e(0x222)][_0x19dd3c[_0x38ad8e(0x23a)]][_0x38ad8e(0x222)],_0x19dd3c['type']=getContentType(_0x19dd3c[_0x38ad8e(0x222)]));}_0x19dd3c[_0x38ad8e(0x23a)]==='viewOnceMessage'&&(_0x19dd3c['message']=_0x19dd3c['message'][_0x19dd3c['type']][_0x38ad8e(0x222)],_0x19dd3c[_0x38ad8e(0x23a)]=getContentType(_0x19dd3c[_0x38ad8e(0x222)]));try{_0x19dd3c[_0x38ad8e(0x1fd)]=_0x19dd3c[_0x38ad8e(0x222)][_0x19dd3c[_0x38ad8e(0x23a)]][_0x38ad8e(0x281)]?_0x19dd3c[_0x38ad8e(0x222)][_0x19dd3c[_0x38ad8e(0x23a)]][_0x38ad8e(0x281)][_0x38ad8e(0x1f3)]||[]:[];}catch{_0x19dd3c['mentions']=![];}try{const _0x3e5cd1=_0x19dd3c['message'][_0x19dd3c[_0x38ad8e(0x23a)]][_0x38ad8e(0x281)];if(_0x3e5cd1['quotedMessage'][_0x38ad8e(0x219)]){const _0x3db748=Object[_0x38ad8e(0x21d)](_0x3e5cd1[_0x38ad8e(0x243)][_0x38ad8e(0x219)]['message'])[0x0];_0x3db748==='viewOnceMessage'?_0x19dd3c[_0x38ad8e(0x244)]={'type':'view_once','stanzaId':_0x3e5cd1['stanzaId'],'sender':_0x19dd3c[_0x38ad8e(0x22e)](_0x3e5cd1['participant']),'message':_0x3e5cd1['quotedMessage']['ephemeralMessage'][_0x38ad8e(0x222)][_0x38ad8e(0x25a)]['message']}:_0x19dd3c[_0x38ad8e(0x244)]={'type':_0x38ad8e(0x291),'stanzaId':_0x3e5cd1[_0x38ad8e(0x223)],'sender':_0x19dd3c[_0x38ad8e(0x22e)](_0x3e5cd1['participant']),'message':_0x3e5cd1[_0x38ad8e(0x243)]['ephemeralMessage'][_0x38ad8e(0x222)]};}else _0x3e5cd1[_0x38ad8e(0x243)]['viewOnceMessage']?_0x19dd3c[_0x38ad8e(0x244)]={'type':_0x38ad8e(0x1fe),'stanzaId':_0x3e5cd1['stanzaId'],'sender':_0x19dd3c[_0x38ad8e(0x22e)](_0x3e5cd1['participant']),'message':_0x3e5cd1['quotedMessage'][_0x38ad8e(0x25a)]['message']}:_0x19dd3c[_0x38ad8e(0x244)]={'type':_0x38ad8e(0x20d),'stanzaId':_0x3e5cd1[_0x38ad8e(0x223)],'sender':_0x19dd3c[_0x38ad8e(0x22e)](_0x3e5cd1[_0x38ad8e(0x20c)]),'message':_0x3e5cd1[_0x38ad8e(0x243)]};_0x19dd3c['quoted'][_0x38ad8e(0x28a)]=await _0x50f812[_0x38ad8e(0x24e)](_0x19dd3c[_0x38ad8e(0x244)][_0x38ad8e(0x262)]),_0x19dd3c['quoted'][_0x38ad8e(0x269)]=_0x19dd3c['quoted'][_0x38ad8e(0x262)]===_0x19dd3c[_0x38ad8e(0x22e)](_0x50f812['user']['id']),_0x19dd3c[_0x38ad8e(0x244)][_0x38ad8e(0x26e)]=Object[_0x38ad8e(0x21d)](_0x19dd3c[_0x38ad8e(0x244)][_0x38ad8e(0x222)])[_0x38ad8e(0x208)](_0x5d0291=>_0x5d0291['includes'](_0x38ad8e(0x282))||_0x5d0291['includes'](_0x38ad8e(0x272)))[0x0],_0x19dd3c[_0x38ad8e(0x244)][_0x38ad8e(0x22b)]=_0x19dd3c[_0x38ad8e(0x244)][_0x38ad8e(0x222)][_0x19dd3c['quoted']['mtype']][_0x38ad8e(0x22b)]||_0x19dd3c[_0x38ad8e(0x244)]['message'][_0x19dd3c[_0x38ad8e(0x244)]['mtype']][_0x38ad8e(0x28d)]||_0x19dd3c[_0x38ad8e(0x244)][_0x38ad8e(0x222)][_0x19dd3c['quoted'][_0x38ad8e(0x26e)]][_0x38ad8e(0x24d)]||_0x19dd3c[_0x38ad8e(0x244)][_0x38ad8e(0x26e)]==_0x38ad8e(0x27c)&&_0x19dd3c[_0x38ad8e(0x244)][_0x38ad8e(0x222)][_0x19dd3c[_0x38ad8e(0x244)][_0x38ad8e(0x26e)]][_0x38ad8e(0x242)][_0x38ad8e(0x277)]||_0x19dd3c[_0x38ad8e(0x244)][_0x38ad8e(0x222)][_0x19dd3c[_0x38ad8e(0x244)][_0x38ad8e(0x26e)]]||'',_0x19dd3c[_0x38ad8e(0x244)][_0x38ad8e(0x1fb)]={'id':_0x19dd3c[_0x38ad8e(0x244)][_0x38ad8e(0x223)],'fromMe':_0x19dd3c['quoted'][_0x38ad8e(0x269)],'remoteJid':_0x19dd3c['from']},_0x19dd3c[_0x38ad8e(0x244)]['delete']=()=>_0x50f812[_0x38ad8e(0x271)](_0x19dd3c[_0x38ad8e(0x22f)],{'delete':_0x19dd3c[_0x38ad8e(0x244)]['key']}),_0x19dd3c[_0x38ad8e(0x244)][_0x38ad8e(0x24a)]=_0x3f75ed=>downloadMedia(_0x19dd3c[_0x38ad8e(0x244)]['message'],_0x3f75ed);}catch(_0x3318ac){_0x19dd3c['quoted']=null;}try{_0x19dd3c[_0x38ad8e(0x1fc)]=_0x19dd3c[_0x38ad8e(0x222)]['conversation']||_0x19dd3c['message'][_0x19dd3c[_0x38ad8e(0x23a)]]['text']||_0x19dd3c['message'][_0x19dd3c[_0x38ad8e(0x23a)]][_0x38ad8e(0x24d)]||_0x19dd3c[_0x38ad8e(0x23a)]===_0x38ad8e(0x287)&&_0x19dd3c[_0x38ad8e(0x222)][_0x19dd3c[_0x38ad8e(0x23a)]][_0x38ad8e(0x255)]['selectedRowId']||_0x19dd3c[_0x38ad8e(0x23a)]==='buttonsResponseMessage'&&_0x19dd3c['message'][_0x19dd3c[_0x38ad8e(0x23a)]][_0x38ad8e(0x202)]&&_0x19dd3c[_0x38ad8e(0x222)][_0x19dd3c['type']]['selectedButtonId']||_0x19dd3c[_0x38ad8e(0x23a)]===_0x38ad8e(0x27c)&&_0x19dd3c[_0x38ad8e(0x222)][_0x19dd3c[_0x38ad8e(0x23a)]]['selectedId']||![];}catch{_0x19dd3c[_0x38ad8e(0x1fc)]=![];}_0x19dd3c[_0x38ad8e(0x256)]=_0x19dd3c[_0x38ad8e(0x250)]=async()=>{const _0xc0fe88=_0x38ad8e;if(!_0x19dd3c[_0xc0fe88(0x244)][_0xc0fe88(0x223)])return![];let _0x2c0f2c=await _0x2dd976[_0xc0fe88(0x22c)](_0x19dd3c[_0xc0fe88(0x22f)],_0x19dd3c[_0xc0fe88(0x244)][_0xc0fe88(0x223)],_0x50f812);return serialize(_0x2c0f2c,_0x50f812);},_0x50f812[_0x38ad8e(0x23f)]=async(_0x2e95fa,_0x2449a4)=>{const _0x290209=_0x38ad8e;let _0x41df8a,_0x5b5a7e,_0x4dd643=Buffer['isBuffer'](_0x2e95fa)?_0x2e95fa:/^data:.*?\/.*?;base64,/i[_0x290209(0x240)](_0x2e95fa)?Buffer[_0x290209(0x22f)](_0x2e95fa['split']`,`[0x1],'base64'):/^https?:\/\//[_0x290209(0x240)](_0x2e95fa)?await(_0x41df8a=await fetch(_0x2e95fa))[_0x290209(0x213)]():fs[_0x290209(0x25d)](_0x2e95fa)?(_0x5b5a7e=_0x2e95fa,fs[_0x290209(0x254)](_0x2e95fa)):typeof _0x2e95fa===_0x290209(0x1ec)?_0x2e95fa:Buffer[_0x290209(0x26c)](0x0);if(!Buffer[_0x290209(0x20f)](_0x4dd643))throw new TypeError(_0x290209(0x233));let _0x418a3f=await fromBuffer(_0x4dd643)||{'mime':_0x290209(0x216),'ext':_0x290209(0x232)};if(_0x4dd643&&_0x2449a4&&!_0x5b5a7e)_0x5b5a7e=path[_0x290209(0x273)](__dirname,_0x290209(0x266)+new Date()*0x1+'.'+_0x418a3f['ext']),await fs[_0x290209(0x23e)]['writeFile'](_0x5b5a7e,_0x4dd643);return{'res':_0x41df8a,'filename':_0x5b5a7e,..._0x418a3f,'data':_0x4dd643};},_0x50f812['forwardMessage']=async(_0x524eea,_0x1e4f0e,_0x457e48)=>{const _0x5c2fc7=_0x38ad8e;if(Object[_0x5c2fc7(0x21d)](_0x457e48)[_0x5c2fc7(0x236)]===0x0){if(typeof _0x1e4f0e!=_0x5c2fc7(0x20e)){let _0x228b67='\x20',_0x4968f1=_0x50f812,_0x559da5=_0x5c2fc7(0x212),_0x276a9d=_0x5c2fc7(0x23c),_0x1e2f39=await _0x50f812[_0x5c2fc7(0x246)][_0x5c2fc7(0x23f)](_0x1e4f0e,!![]),{res:_0x38fd67,data:_0x2119ab,filename:_0x3cd89b}=_0x1e2f39;if(_0x38fd67&&_0x38fd67[_0x5c2fc7(0x238)]!==0xc8||_0x2119ab['length']<=0x10000)try{return{'json':JSON[_0x5c2fc7(0x1f1)](_0x2119ab['toString']())};}catch(_0x31a3b7){if(_0x31a3b7[_0x5c2fc7(0x204)])return _0x31a3b7[_0x5c2fc7(0x204)];}let _0x1850a3={'filename':_0x276a9d};if(_0x4968f1)_0x1850a3[_0x5c2fc7(0x244)]=_0x4968f1;if(!_0x1e2f39){if(_0x457e48['asDocument'])_0x457e48['asDocument']=!![];}let _0x175d75='',_0x32529d=_0x1e2f39[_0x5c2fc7(0x245)],_0x4fe703=_0x1ca362=>_0x5c2fc7(0x24f)+Date[_0x5c2fc7(0x237)]()+'.'+_0x1ca362;if(/webp/[_0x5c2fc7(0x240)](_0x1e2f39[_0x5c2fc7(0x245)]))_0x175d75=_0x5c2fc7(0x1eb);else{if(/image/[_0x5c2fc7(0x240)](_0x1e2f39['mime']))_0x175d75='image';else{if(/video/[_0x5c2fc7(0x240)](_0x1e2f39[_0x5c2fc7(0x245)]))_0x175d75='video';else{if(/audio/[_0x5c2fc7(0x240)](_0x1e2f39[_0x5c2fc7(0x245)]))ss=await(ptt?toPTT:toAudio)(_0x2119ab,_0x1e2f39[_0x5c2fc7(0x27b)]),skk=await require(_0x5c2fc7(0x235))[_0x5c2fc7(0x207)](ss['data']),ty=_0x4fe703(skk['ext']),require('fs')['writeFileSync'](ty,ss[_0x5c2fc7(0x1e7)]),_0x3cd89b=ty,_0x175d75=_0x5c2fc7(0x25f),_0x32529d=_0x5c2fc7(0x284);else _0x175d75='document';}}}_0x50f812[_0x5c2fc7(0x246)][_0x5c2fc7(0x271)](_0x524eea,{..._0x457e48,'caption':_0x228b67,'fileName':_0x559da5,[_0x175d75]:{'url':_0x3cd89b},'mimetype':_0x32529d,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![]}},{..._0x1850a3,..._0x457e48})[_0x5c2fc7(0x239)](()=>{fs['unlinkSync'](_0x3cd89b);});}else{let _0x1628af=_0x1e4f0e,_0x56fcf6=_0x50f812,_0x314a53='\x20emdinet',_0x458d69=await _0x50f812['client'][_0x5c2fc7(0x23f)](_0x1628af,!![]),{filename:_0x1a28eb,size:_0x4dfcd5,ext:_0x164960,mime:_0x46ddb3,data:_0x23d269}=_0x458d69,_0x1bf427='',_0xb6fb49=_0x46ddb3,_0x9dd39c=_0x1a28eb;if(_0x457e48['asDocument'])_0x1bf427='document';if(_0x457e48[_0x5c2fc7(0x274)]||/webp/[_0x5c2fc7(0x240)](_0x46ddb3)){let {writeExifWebp:_0x2571c9}=require('./sticker'),_0xc18f2c={'mimetype':_0x46ddb3,'data':_0x23d269};_0x9dd39c=await _0x2571c9(_0xc18f2c,{'packname':_0x457e48[_0x5c2fc7(0x251)]?_0x457e48[_0x5c2fc7(0x251)]:'\x20','author':_0x457e48[_0x5c2fc7(0x275)]?_0x457e48[_0x5c2fc7(0x275)]:'\x20','categories':_0x457e48['categories']?_0x457e48['categories']:[]}),await fs['promises'][_0x5c2fc7(0x226)](_0x1a28eb),_0x1bf427=_0x5c2fc7(0x1eb),_0xb6fb49=_0x5c2fc7(0x26a);}else{if(/image/['test'](_0x46ddb3))_0x1bf427=_0x5c2fc7(0x21e);else{if(/video/['test'](_0x46ddb3))_0x1bf427='video';else{if(/audio/[_0x5c2fc7(0x240)](_0x46ddb3))_0x1bf427='audio';else _0x1bf427='document';}}}return await _0x50f812['client'][_0x5c2fc7(0x271)](_0x524eea,{[_0x1bf427]:_0x1e4f0e,'mimetype':_0xb6fb49,'fileName':_0x314a53,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![]}}),fs[_0x5c2fc7(0x23e)][_0x5c2fc7(0x226)](_0x9dd39c);}}else{if(typeof _0x1e4f0e!=_0x5c2fc7(0x20e)){let _0x30baf0={},_0x45db68=_0x5c2fc7(0x212),_0x2b905f=_0x5c2fc7(0x27f),_0x19feb6=_0x50f812;_0x457e48['externalAdReply']&&(_0x30baf0={'externalAdReply':{'title':_0x457e48[_0x5c2fc7(0x1ef)][_0x5c2fc7(0x28e)]||null,'body':_0x457e48[_0x5c2fc7(0x1ef)][_0x5c2fc7(0x1fc)]||null,'renderLargerThumbnail':_0x457e48[_0x5c2fc7(0x1ef)][_0x5c2fc7(0x20a)],'showAdAttribution':_0x457e48[_0x5c2fc7(0x1ef)][_0x5c2fc7(0x205)]||![],'mediaType':_0x457e48[_0x5c2fc7(0x1ef)][_0x5c2fc7(0x26f)]||0x2,'thumbnail':_0x457e48['externalAdReply'][_0x5c2fc7(0x234)]||null,'mediaUrl':_0x457e48['externalAdReply']['mediaUrl']||null,'sourceUrl':_0x457e48[_0x5c2fc7(0x1ef)][_0x5c2fc7(0x22a)]||null}});let _0x3b936d=await _0x50f812[_0x5c2fc7(0x246)][_0x5c2fc7(0x23f)](_0x1e4f0e,!![]),{res:_0x436948,data:_0x2266d2,filename:_0x140744}=_0x3b936d;if(_0x436948&&_0x436948['status']!==0xc8||_0x2266d2['length']<=0x10000)try{return{'json':JSON[_0x5c2fc7(0x1f1)](_0x2266d2[_0x5c2fc7(0x221)]())};}catch(_0x2421bf){if(_0x2421bf[_0x5c2fc7(0x204)])return _0x2421bf[_0x5c2fc7(0x204)];}let _0x35df9d={'filename':_0x2b905f};if(_0x19feb6)_0x35df9d['quoted']=_0x19feb6;if(!_0x3b936d){if(_0x457e48['asDocument'])_0x457e48[_0x5c2fc7(0x218)]=!![];}let _0x2ea29c='',_0x5a49a9=_0x3b936d[_0x5c2fc7(0x245)],_0x38756b=_0x527d25=>_0x5c2fc7(0x285)+Date['now']()+'.'+_0x527d25;if(/webp/[_0x5c2fc7(0x240)](_0x3b936d[_0x5c2fc7(0x245)]))_0x2ea29c=_0x5c2fc7(0x1eb);else{if(/image/['test'](_0x3b936d[_0x5c2fc7(0x245)]))_0x2ea29c='image';else{if(/video/[_0x5c2fc7(0x240)](_0x3b936d[_0x5c2fc7(0x245)]))_0x2ea29c=_0x5c2fc7(0x27e);else{if(/audio/['test'](_0x3b936d[_0x5c2fc7(0x245)]))ss=await(ptt?toPTT:toAudio)(_0x2266d2,_0x3b936d[_0x5c2fc7(0x27b)]),skk=await require(_0x5c2fc7(0x235))[_0x5c2fc7(0x207)](ss[_0x5c2fc7(0x1e7)]),ty=_0x38756b(skk[_0x5c2fc7(0x27b)]),require('fs')[_0x5c2fc7(0x1ee)](ty,ss[_0x5c2fc7(0x1e7)]),_0x140744=ty,_0x2ea29c='audio',_0x5a49a9=_0x5c2fc7(0x284);else _0x2ea29c='document';}}}let _0x2ceb83={'mimetype':_0x457e48[_0x5c2fc7(0x25c)]||null,'jpegThumbnail':_0x457e48[_0x5c2fc7(0x20b)]||null,'viewOnce':_0x457e48[_0x5c2fc7(0x265)],'mentions':_0x457e48[_0x5c2fc7(0x1fd)]||null,'fileName':_0x457e48[_0x5c2fc7(0x214)]||null,'fileLength':_0x457e48[_0x5c2fc7(0x227)]||null,'caption':_0x457e48[_0x5c2fc7(0x24d)],'footer':_0x457e48['footer']||null,'buttons':_0x457e48[_0x5c2fc7(0x21c)]||null,'headerType':0x4,'ptt':_0x457e48[_0x5c2fc7(0x1e6)]||![],'seconds':[_0x457e48[_0x5c2fc7(0x220)]],'waveform':_0x457e48['waveform'],'contextInfo':{'forwardingScore':_0x457e48[_0x5c2fc7(0x200)],'isForwarded':_0x457e48['isForwarded'],..._0x30baf0}};_0x2ea29c=_0x457e48[_0x5c2fc7(0x268)]||_0x2ea29c,_0x50f812['client'][_0x5c2fc7(0x271)](_0x524eea,{[_0x2ea29c]:{'url':_0x140744},..._0x2ceb83},{'quoted':_0x457e48['quoted']})[_0x5c2fc7(0x239)](()=>{const _0x3d094b=_0x5c2fc7;fs[_0x3d094b(0x260)](_0x140744);});}else{if(typeof _0x1e4f0e==_0x5c2fc7(0x20e)){let _0x64482d=_0x1e4f0e,_0x58b41d=_0x5c2fc7(0x279),_0x1b67e8=_0x457e48[_0x5c2fc7(0x244)]||null,_0x4808a3=await _0x50f812[_0x5c2fc7(0x246)]['getFile'](_0x64482d,!![]),{filename:_0x1de1a9,size:_0x52e964,ext:_0x4aeddb,mime:_0x5300a8,data:_0x4afd8e}=_0x4808a3,_0x5c8c0b='',_0x192e9e=_0x5300a8,_0x232213=_0x1de1a9;if(_0x457e48['asDocument'])_0x5c8c0b=_0x5c2fc7(0x283);if(_0x457e48[_0x5c2fc7(0x274)]||/webp/[_0x5c2fc7(0x240)](_0x5300a8)){let {writeExifWebp:_0x4b6ffa}=require(_0x5c2fc7(0x22d)),_0xf1ab6d={'mimetype':_0x5300a8,'data':_0x4afd8e};_0x232213=await _0x4b6ffa(_0xf1ab6d,{'packname':_0x457e48[_0x5c2fc7(0x251)]?_0x457e48[_0x5c2fc7(0x251)]:'\x20','author':_0x457e48[_0x5c2fc7(0x275)]?_0x457e48[_0x5c2fc7(0x275)]:'\x20','categories':_0x457e48[_0x5c2fc7(0x264)]?_0x457e48[_0x5c2fc7(0x264)]:[]}),await fs[_0x5c2fc7(0x23e)][_0x5c2fc7(0x226)](_0x1de1a9),_0x5c8c0b=_0x5c2fc7(0x1eb),_0x192e9e='image/webp';}else{if(/image/[_0x5c2fc7(0x240)](_0x5300a8))_0x5c8c0b=_0x5c2fc7(0x21e);else{if(/video/['test'](_0x5300a8))_0x5c8c0b=_0x5c2fc7(0x27e);else{if(/audio/[_0x5c2fc7(0x240)](_0x5300a8))_0x5c8c0b='audio';else _0x5c8c0b='document';}}}_0x5c8c0b=_0x457e48[_0x5c2fc7(0x268)]||_0x5c8c0b;let _0x1c8723={};_0x457e48[_0x5c2fc7(0x1ef)]&&(_0x1c8723={'externalAdReply':{'title':_0x457e48[_0x5c2fc7(0x1ef)]['title']||null,'body':_0x457e48[_0x5c2fc7(0x1ef)][_0x5c2fc7(0x1fc)]||null,'renderLargerThumbnail':_0x457e48['externalAdReply']['renderLargerThumbnail'],'showAdAttribution':_0x457e48['externalAdReply'][_0x5c2fc7(0x205)]||![],'mediaType':_0x457e48['externalAdReply'][_0x5c2fc7(0x26f)]||0x2,'thumbnail':_0x457e48[_0x5c2fc7(0x1ef)][_0x5c2fc7(0x234)]||null,'mediaUrl':_0x457e48[_0x5c2fc7(0x1ef)][_0x5c2fc7(0x228)]||null,'sourceUrl':_0x457e48[_0x5c2fc7(0x1ef)][_0x5c2fc7(0x22a)]||null}});let _0x2ba3a4={'mimetype':_0x457e48['mimetype']||_0x192e9e,'jpegThumbnail':_0x457e48[_0x5c2fc7(0x20b)],'viewOnce':_0x457e48['viewOnce'],'mentions':_0x457e48[_0x5c2fc7(0x1fd)],'fileName':_0x457e48['fileName'],'fileLength':_0x457e48['fileLength'],'caption':_0x457e48[_0x5c2fc7(0x24d)],'footer':_0x457e48[_0x5c2fc7(0x1fa)],'buttons':_0x457e48[_0x5c2fc7(0x21c)],'headerType':_0x457e48[_0x5c2fc7(0x1f6)],'ptt':_0x457e48[_0x5c2fc7(0x1e6)],'seconds':[_0x457e48[_0x5c2fc7(0x220)]],'waveform':_0x457e48['waveform'],'contextInfo':{'forwardingScore':_0x457e48[_0x5c2fc7(0x200)],'isForwarded':_0x457e48['isForwarded'],..._0x1c8723}};return await _0x50f812[_0x5c2fc7(0x246)][_0x5c2fc7(0x271)](_0x524eea,{[_0x5c8c0b]:_0x1e4f0e,..._0x2ba3a4},{'quoted':_0x457e48[_0x5c2fc7(0x244)]}),fs['promises'][_0x5c2fc7(0x226)](_0x232213);}}}},_0x50f812['sendImageAsSticker']=async(_0x53d528,_0x54e3ed,_0x378a64={})=>{const _0x739819=_0x38ad8e;let _0x3acb42;_0x378a64&&(_0x378a64[_0x739819(0x251)]||_0x378a64['author'])?_0x3acb42=await writeExifImg(_0x54e3ed,_0x378a64):_0x3acb42=await imageToWebp(_0x54e3ed),await _0x50f812[_0x739819(0x271)](_0x53d528,{'sticker':{'url':_0x3acb42},..._0x378a64},_0x378a64);},_0x50f812[_0x38ad8e(0x270)]=async(_0x8edec0,_0x309c4a,_0x1f1ae6={})=>{const _0x4affee=_0x38ad8e;let _0x598e04;_0x1f1ae6&&(_0x1f1ae6[_0x4affee(0x251)]||_0x1f1ae6[_0x4affee(0x275)])?_0x598e04=await writeExifVid(_0x309c4a,_0x1f1ae6):_0x598e04=await videoToWebp(_0x309c4a),await _0x50f812['sendMessage'](_0x8edec0,{'sticker':{'url':_0x598e04},..._0x1f1ae6},_0x1f1ae6);},_0x50f812[_0x38ad8e(0x1f2)]=async(_0x55a088,_0x2951e9='')=>{const _0x3d08d0=_0x38ad8e;_0x50f812[_0x3d08d0(0x271)](_0x19dd3c[_0x3d08d0(0x22f)],{'text':require(_0x3d08d0(0x288))[_0x3d08d0(0x25e)](_0x55a088),'mentions':_0x2951e9[_0x3d08d0(0x1f7)]?[..._0x55a088[_0x3d08d0(0x276)](/@([0-9]{5,16}|0)/g)][_0x3d08d0(0x241)](_0x261d45=>_0x261d45[0x1]+_0x3d08d0(0x1f8)):[],..._0x2951e9},{..._0x2951e9,'quoted':_0x19dd3c});},_0x19dd3c[_0x38ad8e(0x290)]=async(_0x2adc41,_0x15027d='',_0x18d218='',_0x5787db,_0x1a13dd=![],_0x366471={})=>{const _0x1b37c7=_0x38ad8e;let _0x56e662=await _0x50f812[_0x1b37c7(0x23f)](_0x2adc41,!![]),{res:_0x598afe,data:_0x370502,filename:_0x2ffc49}=_0x56e662;if(_0x598afe&&_0x598afe['status']!==0xc8||_0x370502[_0x1b37c7(0x236)]<=0x10000)try{throw{'json':JSON['parse'](_0x370502[_0x1b37c7(0x221)]())};}catch(_0x5ad452){if(_0x5ad452[_0x1b37c7(0x204)])throw _0x5ad452[_0x1b37c7(0x204)];}let _0x36e5ee={'filename':_0x15027d};if(_0x5787db)_0x36e5ee[_0x1b37c7(0x244)]=_0x5787db;if(!_0x56e662){if(_0x366471[_0x1b37c7(0x218)])_0x366471['asDocument']=!![];}let _0x33a9bc='',_0x1d93e0=_0x56e662[_0x1b37c7(0x245)],_0xcf6f2b=_0x2c14fc=>_0x1b37c7(0x263)+Date[_0x1b37c7(0x237)]()+'.'+_0x2c14fc;if(/webp/['test'](_0x56e662[_0x1b37c7(0x245)]))_0x33a9bc=_0x1b37c7(0x1eb);else{if(/image/[_0x1b37c7(0x240)](_0x56e662[_0x1b37c7(0x245)]))_0x33a9bc=_0x1b37c7(0x21e);else{if(/video/[_0x1b37c7(0x240)](_0x56e662[_0x1b37c7(0x245)]))_0x33a9bc=_0x1b37c7(0x27e);else{if(/audio/[_0x1b37c7(0x240)](_0x56e662[_0x1b37c7(0x245)]))ss=await(_0x1a13dd?toPTT:toAudio2)(_0x370502,_0x56e662[_0x1b37c7(0x27b)]),skk=await require(_0x1b37c7(0x235))[_0x1b37c7(0x207)](ss[_0x1b37c7(0x1e7)]),ty=_0xcf6f2b(skk[_0x1b37c7(0x27b)]),require('fs')['writeFileSync'](ty,ss[_0x1b37c7(0x1e7)]),_0x2ffc49=ty,_0x33a9bc=_0x1b37c7(0x25f),_0x1d93e0='audio/mpeg';else _0x33a9bc='document';}}}_0x50f812[_0x1b37c7(0x271)](_0x19dd3c[_0x1b37c7(0x22f)],{..._0x366471,'caption':_0x18d218,'ptt':_0x1a13dd,'fileName':_0x15027d,[_0x33a9bc]:{'url':_0x2ffc49},'mimetype':_0x1d93e0},{..._0x36e5ee,..._0x366471})[_0x1b37c7(0x239)](()=>{const _0x48ade5=_0x1b37c7;fs[_0x48ade5(0x260)](_0x2ffc49);});},_0x50f812[_0x38ad8e(0x209)]=async(_0x466de5,_0x4fbf33,_0x3b01fa={})=>{const _0x585ad3=_0x38ad8e;let _0xcd270d=await _0x50f812['getFile'](_0x4fbf33,!![]),{res:_0x584b44,data:_0x46764b,filename:_0x42ebc7,mime:_0x33dfa3}=_0xcd270d,_0x664005=_0x33dfa3['split']('/')[0x0];console[_0x585ad3(0x289)](_0x33dfa3);let _0x1e7aea={..._0x3b01fa,[_0x664005]:{'url':_0x42ebc7},'mimetype':_0x3b01fa[_0x585ad3(0x25c)]||_0x33dfa3},_0x40f7e1;try{_0x40f7e1=await _0x50f812[_0x585ad3(0x271)](_0x466de5,_0x1e7aea,{..._0x3b01fa});}catch(_0x47789a){console[_0x585ad3(0x1ea)](_0x47789a),_0x40f7e1=null;}finally{if(!_0x40f7e1)_0x40f7e1=await _0x50f812[_0x585ad3(0x271)](_0x466de5,{..._0x1e7aea,[_0x664005]:_0x46764b},{..._0x3b01fa});return _0x46764b=null,_0x40f7e1;}},_0x50f812[_0x38ad8e(0x1f2)]=async(_0x1c6660,_0x495d84='')=>{const _0x1b1c03=_0x38ad8e;_0x50f812[_0x1b1c03(0x271)](_0x19dd3c[_0x1b1c03(0x22f)],{'text':require(_0x1b1c03(0x288))[_0x1b1c03(0x25e)](_0x1c6660),'mentions':_0x495d84['withTag']?[..._0x1c6660[_0x1b1c03(0x276)](/@([0-9]{5,16}|0)/g)][_0x1b1c03(0x241)](_0x1b97f8=>_0x1b97f8[0x1]+_0x1b1c03(0x1f8)):[],..._0x495d84},{..._0x495d84,'quoted':_0x19dd3c});},_0x19dd3c[_0x38ad8e(0x229)]=async(_0x50dbfc,_0x5df860)=>{const _0x4a2c2c=_0x38ad8e;_0x50f812[_0x4a2c2c(0x271)](_0x19dd3c[_0x4a2c2c(0x22f)],{'text':require(_0x4a2c2c(0x288))[_0x4a2c2c(0x25e)](_0x50dbfc),..._0x5df860},{..._0x5df860});},_0x19dd3c['download']=_0xfd7f47=>downloadMedia(_0x19dd3c[_0x38ad8e(0x222)],_0xfd7f47),_0x50f812[_0x38ad8e(0x246)]=_0x19dd3c;}return _0x19dd3c;}module['exports']={'serialize':serialize,'downloadMedia':downloadMedia};
